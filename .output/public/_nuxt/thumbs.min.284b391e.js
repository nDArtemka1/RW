import{g as ne,h as q,d as k,i as te,j as ie,k as re,l as oe}from"./grid.min.82f75050.js";function de({swiper:i,extendParams:$,on:f,emit:M}){const C=ne();$({zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),i.zoom={enabled:!1};let h=1,v=!1,g,l;const s=[],e={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},t={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},o={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let p=1;Object.defineProperty(i.zoom,"scale",{get(){return p},set(a){if(p!==a){const r=e.imageEl,n=e.slideEl;M("zoomChange",a,r,n)}p=a}});function b(){if(s.length<2)return 1;const a=s[0].pageX,r=s[0].pageY,n=s[1].pageX,d=s[1].pageY;return Math.sqrt((n-a)**2+(d-r)**2)}function u(){if(s.length<2)return{x:null,y:null};const a=e.imageEl.getBoundingClientRect();return[(s[0].pageX+(s[1].pageX-s[0].pageX)/2-a.x)/h,(s[0].pageY+(s[1].pageY-s[0].pageY)/2-a.y)/h]}function m(){return i.isElement?"swiper-slide":`.${i.params.slideClass}`}function x(a){const r=m();return!!(a.target.matches(r)||i.slides.filter(n=>n.contains(a.target)).length>0)}function D(a){const r=`.${i.params.zoom.containerClass}`;return!!(a.target.matches(r)||[...i.el.querySelectorAll(r)].filter(n=>n.contains(a.target)).length>0)}function W(a){if(a.pointerType==="mouse"&&s.splice(0,s.length),!x(a))return;const r=i.params.zoom;if(g=!1,l=!1,s.push(a),!(s.length<2)){if(g=!0,e.scaleStart=b(),!e.slideEl){e.slideEl=a.target.closest(`.${i.params.slideClass}, swiper-slide`),e.slideEl||(e.slideEl=i.slides[i.activeIndex]);let n=e.slideEl.querySelector(`.${r.containerClass}`);if(n&&(n=n.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),e.imageEl=n,n?e.imageWrapEl=k(e.imageEl,`.${r.containerClass}`)[0]:e.imageWrapEl=void 0,!e.imageWrapEl){e.imageEl=void 0;return}e.maxRatio=e.imageWrapEl.getAttribute("data-swiper-zoom")||r.maxRatio}if(e.imageEl){const[n,d]=u();e.originX=n,e.originY=d,e.imageEl.style.transitionDuration="0ms"}v=!0}}function j(a){if(!x(a))return;const r=i.params.zoom,n=i.zoom,d=s.findIndex(c=>c.pointerId===a.pointerId);d>=0&&(s[d]=a),!(s.length<2)&&(l=!0,e.scaleMove=b(),e.imageEl&&(n.scale=e.scaleMove/e.scaleStart*h,n.scale>e.maxRatio&&(n.scale=e.maxRatio-1+(n.scale-e.maxRatio+1)**.5),n.scale<r.minRatio&&(n.scale=r.minRatio+1-(r.minRatio-n.scale+1)**.5),e.imageEl.style.transform=`translate3d(0,0,0) scale(${n.scale})`))}function G(a){if(!x(a)||a.pointerType==="mouse"&&a.type==="pointerout")return;const r=i.params.zoom,n=i.zoom,d=s.findIndex(c=>c.pointerId===a.pointerId);d>=0&&s.splice(d,1),!(!g||!l)&&(g=!1,l=!1,e.imageEl&&(n.scale=Math.max(Math.min(n.scale,e.maxRatio),r.minRatio),e.imageEl.style.transitionDuration=`${i.params.speed}ms`,e.imageEl.style.transform=`translate3d(0,0,0) scale(${n.scale})`,h=n.scale,v=!1,n.scale>1&&e.slideEl?e.slideEl.classList.add(`${r.zoomedSlideClass}`):n.scale<=1&&e.slideEl&&e.slideEl.classList.remove(`${r.zoomedSlideClass}`),n.scale===1&&(e.originX=0,e.originY=0,e.slideEl=void 0)))}function ae(a){const r=i.device;if(!e.imageEl||t.isTouched)return;r.android&&a.cancelable&&a.preventDefault(),t.isTouched=!0;const n=s.length>0?s[0]:a;t.touchesStart.x=n.pageX,t.touchesStart.y=n.pageY}function V(a){if(!x(a)||!D(a))return;const r=i.zoom;if(!e.imageEl||!t.isTouched||!e.slideEl)return;t.isMoved||(t.width=e.imageEl.offsetWidth,t.height=e.imageEl.offsetHeight,t.startX=ie(e.imageWrapEl,"x")||0,t.startY=ie(e.imageWrapEl,"y")||0,e.slideWidth=e.slideEl.offsetWidth,e.slideHeight=e.slideEl.offsetHeight,e.imageWrapEl.style.transitionDuration="0ms");const n=t.width*r.scale,d=t.height*r.scale;if(n<e.slideWidth&&d<e.slideHeight)return;if(t.minX=Math.min(e.slideWidth/2-n/2,0),t.maxX=-t.minX,t.minY=Math.min(e.slideHeight/2-d/2,0),t.maxY=-t.minY,t.touchesCurrent.x=s.length>0?s[0].pageX:a.pageX,t.touchesCurrent.y=s.length>0?s[0].pageY:a.pageY,Math.max(Math.abs(t.touchesCurrent.x-t.touchesStart.x),Math.abs(t.touchesCurrent.y-t.touchesStart.y))>5&&(i.allowClick=!1),!t.isMoved&&!v){if(i.isHorizontal()&&(Math.floor(t.minX)===Math.floor(t.startX)&&t.touchesCurrent.x<t.touchesStart.x||Math.floor(t.maxX)===Math.floor(t.startX)&&t.touchesCurrent.x>t.touchesStart.x)){t.isTouched=!1;return}if(!i.isHorizontal()&&(Math.floor(t.minY)===Math.floor(t.startY)&&t.touchesCurrent.y<t.touchesStart.y||Math.floor(t.maxY)===Math.floor(t.startY)&&t.touchesCurrent.y>t.touchesStart.y)){t.isTouched=!1;return}}a.cancelable&&a.preventDefault(),a.stopPropagation(),t.isMoved=!0;const y=(r.scale-h)/(e.maxRatio-i.params.zoom.minRatio),{originX:X,originY:z}=e;t.currentX=t.touchesCurrent.x-t.touchesStart.x+t.startX+y*(t.width-X*2),t.currentY=t.touchesCurrent.y-t.touchesStart.y+t.startY+y*(t.height-z*2),t.currentX<t.minX&&(t.currentX=t.minX+1-(t.minX-t.currentX+1)**.8),t.currentX>t.maxX&&(t.currentX=t.maxX-1+(t.currentX-t.maxX+1)**.8),t.currentY<t.minY&&(t.currentY=t.minY+1-(t.minY-t.currentY+1)**.8),t.currentY>t.maxY&&(t.currentY=t.maxY-1+(t.currentY-t.maxY+1)**.8),o.prevPositionX||(o.prevPositionX=t.touchesCurrent.x),o.prevPositionY||(o.prevPositionY=t.touchesCurrent.y),o.prevTime||(o.prevTime=Date.now()),o.x=(t.touchesCurrent.x-o.prevPositionX)/(Date.now()-o.prevTime)/2,o.y=(t.touchesCurrent.y-o.prevPositionY)/(Date.now()-o.prevTime)/2,Math.abs(t.touchesCurrent.x-o.prevPositionX)<2&&(o.x=0),Math.abs(t.touchesCurrent.y-o.prevPositionY)<2&&(o.y=0),o.prevPositionX=t.touchesCurrent.x,o.prevPositionY=t.touchesCurrent.y,o.prevTime=Date.now(),e.imageWrapEl.style.transform=`translate3d(${t.currentX}px, ${t.currentY}px,0)`}function se(){const a=i.zoom;if(!e.imageEl)return;if(!t.isTouched||!t.isMoved){t.isTouched=!1,t.isMoved=!1;return}t.isTouched=!1,t.isMoved=!1;let r=300,n=300;const d=o.x*r,c=t.currentX+d,y=o.y*n,X=t.currentY+y;o.x!==0&&(r=Math.abs((c-t.currentX)/o.x)),o.y!==0&&(n=Math.abs((X-t.currentY)/o.y));const z=Math.max(r,n);t.currentX=c,t.currentY=X;const I=t.width*a.scale,E=t.height*a.scale;t.minX=Math.min(e.slideWidth/2-I/2,0),t.maxX=-t.minX,t.minY=Math.min(e.slideHeight/2-E/2,0),t.maxY=-t.minY,t.currentX=Math.max(Math.min(t.currentX,t.maxX),t.minX),t.currentY=Math.max(Math.min(t.currentY,t.maxY),t.minY),e.imageWrapEl.style.transitionDuration=`${z}ms`,e.imageWrapEl.style.transform=`translate3d(${t.currentX}px, ${t.currentY}px,0)`}function _(){const a=i.zoom;e.slideEl&&i.activeIndex!==i.slides.indexOf(e.slideEl)&&(e.imageEl&&(e.imageEl.style.transform="translate3d(0,0,0) scale(1)"),e.imageWrapEl&&(e.imageWrapEl.style.transform="translate3d(0,0,0)"),e.slideEl.classList.remove(`${i.params.zoom.zoomedSlideClass}`),a.scale=1,h=1,e.slideEl=void 0,e.imageEl=void 0,e.imageWrapEl=void 0,e.originX=0,e.originY=0)}function Z(a){const r=i.zoom,n=i.params.zoom;if(!e.slideEl){a&&a.target&&(e.slideEl=a.target.closest(`.${i.params.slideClass}, swiper-slide`)),e.slideEl||(i.params.virtual&&i.params.virtual.enabled&&i.virtual?e.slideEl=q(i.slidesEl,`.${i.params.slideActiveClass}`)[0]:e.slideEl=i.slides[i.activeIndex]);let T=e.slideEl.querySelector(`.${n.containerClass}`);T&&(T=T.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),e.imageEl=T,T?e.imageWrapEl=k(e.imageEl,`.${n.containerClass}`)[0]:e.imageWrapEl=void 0}if(!e.imageEl||!e.imageWrapEl)return;i.params.cssMode&&(i.wrapperEl.style.overflow="hidden",i.wrapperEl.style.touchAction="none"),e.slideEl.classList.add(`${n.zoomedSlideClass}`);let d,c,y,X,z,I,E,Y,N,Q,w,ee,L,P,A,R,O,H;typeof t.touchesStart.x>"u"&&a?(d=a.pageX,c=a.pageY):(d=t.touchesStart.x,c=t.touchesStart.y);const S=typeof a=="number"?a:null;h===1&&S&&(d=void 0,c=void 0),r.scale=S||e.imageWrapEl.getAttribute("data-swiper-zoom")||n.maxRatio,h=S||e.imageWrapEl.getAttribute("data-swiper-zoom")||n.maxRatio,a&&!(h===1&&S)?(O=e.slideEl.offsetWidth,H=e.slideEl.offsetHeight,y=te(e.slideEl).left+C.scrollX,X=te(e.slideEl).top+C.scrollY,z=y+O/2-d,I=X+H/2-c,N=e.imageEl.offsetWidth,Q=e.imageEl.offsetHeight,w=N*r.scale,ee=Q*r.scale,L=Math.min(O/2-w/2,0),P=Math.min(H/2-ee/2,0),A=-L,R=-P,E=z*r.scale,Y=I*r.scale,E<L&&(E=L),E>A&&(E=A),Y<P&&(Y=P),Y>R&&(Y=R)):(E=0,Y=0),S&&r.scale===1&&(e.originX=0,e.originY=0),e.imageWrapEl.style.transitionDuration="300ms",e.imageWrapEl.style.transform=`translate3d(${E}px, ${Y}px,0)`,e.imageEl.style.transitionDuration="300ms",e.imageEl.style.transform=`translate3d(0,0,0) scale(${r.scale})`}function F(){const a=i.zoom,r=i.params.zoom;if(!e.slideEl){i.params.virtual&&i.params.virtual.enabled&&i.virtual?e.slideEl=q(i.slidesEl,`.${i.params.slideActiveClass}`)[0]:e.slideEl=i.slides[i.activeIndex];let n=e.slideEl.querySelector(`.${r.containerClass}`);n&&(n=n.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),e.imageEl=n,n?e.imageWrapEl=k(e.imageEl,`.${r.containerClass}`)[0]:e.imageWrapEl=void 0}!e.imageEl||!e.imageWrapEl||(i.params.cssMode&&(i.wrapperEl.style.overflow="",i.wrapperEl.style.touchAction=""),a.scale=1,h=1,e.imageWrapEl.style.transitionDuration="300ms",e.imageWrapEl.style.transform="translate3d(0,0,0)",e.imageEl.style.transitionDuration="300ms",e.imageEl.style.transform="translate3d(0,0,0) scale(1)",e.slideEl.classList.remove(`${r.zoomedSlideClass}`),e.slideEl=void 0,e.originX=0,e.originY=0)}function B(a){const r=i.zoom;r.scale&&r.scale!==1?F():Z(a)}function U(){const a=i.params.passiveListeners?{passive:!0,capture:!1}:!1,r=i.params.passiveListeners?{passive:!1,capture:!0}:!0;return{passiveListener:a,activeListenerWithCapture:r}}function J(){const a=i.zoom;if(a.enabled)return;a.enabled=!0;const{passiveListener:r,activeListenerWithCapture:n}=U();i.wrapperEl.addEventListener("pointerdown",W,r),i.wrapperEl.addEventListener("pointermove",j,n),["pointerup","pointercancel","pointerout"].forEach(d=>{i.wrapperEl.addEventListener(d,G,r)}),i.wrapperEl.addEventListener("pointermove",V,n)}function K(){const a=i.zoom;if(!a.enabled)return;a.enabled=!1;const{passiveListener:r,activeListenerWithCapture:n}=U();i.wrapperEl.removeEventListener("pointerdown",W,r),i.wrapperEl.removeEventListener("pointermove",j,n),["pointerup","pointercancel","pointerout"].forEach(d=>{i.wrapperEl.removeEventListener(d,G,r)}),i.wrapperEl.removeEventListener("pointermove",V,n)}f("init",()=>{i.params.zoom.enabled&&J()}),f("destroy",()=>{K()}),f("touchStart",(a,r)=>{i.zoom.enabled&&ae(r)}),f("touchEnd",(a,r)=>{i.zoom.enabled&&se()}),f("doubleTap",(a,r)=>{!i.animating&&i.params.zoom.enabled&&i.zoom.enabled&&i.params.zoom.toggle&&B(r)}),f("transitionEnd",()=>{i.zoom.enabled&&i.params.zoom.enabled&&_()}),f("slideChange",()=>{i.zoom.enabled&&i.params.zoom.enabled&&i.params.cssMode&&_()}),Object.assign(i.zoom,{enable:J,disable:K,in:Z,out:F,toggle:B})}function me({swiper:i,extendParams:$,on:f}){$({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let M=!1,C=!1;i.thumbs={swiper:null};function h(){const l=i.thumbs.swiper;if(!l||l.destroyed)return;const s=l.clickedIndex,e=l.clickedSlide;if(e&&e.classList.contains(i.params.thumbs.slideThumbActiveClass)||typeof s>"u"||s===null)return;let t;l.params.loop?t=parseInt(l.clickedSlide.getAttribute("data-swiper-slide-index"),10):t=s,i.params.loop?i.slideToLoop(t):i.slideTo(t)}function v(){const{thumbs:l}=i.params;if(M)return!1;M=!0;const s=i.constructor;if(l.swiper instanceof s)i.thumbs.swiper=l.swiper,Object.assign(i.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(i.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),i.thumbs.swiper.update();else if(oe(l.swiper)){const e=Object.assign({},l.swiper);Object.assign(e,{watchSlidesProgress:!0,slideToClickedSlide:!1}),i.thumbs.swiper=new s(e),C=!0}return i.thumbs.swiper.el.classList.add(i.params.thumbs.thumbsContainerClass),i.thumbs.swiper.on("tap",h),!0}function g(l){const s=i.thumbs.swiper;if(!s||s.destroyed)return;const e=s.params.slidesPerView==="auto"?s.slidesPerViewDynamic():s.params.slidesPerView;let t=1;const o=i.params.thumbs.slideThumbActiveClass;if(i.params.slidesPerView>1&&!i.params.centeredSlides&&(t=i.params.slidesPerView),i.params.thumbs.multipleActiveThumbs||(t=1),t=Math.floor(t),s.slides.forEach(u=>u.classList.remove(o)),s.params.loop||s.params.virtual&&s.params.virtual.enabled)for(let u=0;u<t;u+=1)q(s.slidesEl,`[data-swiper-slide-index="${i.realIndex+u}"]`).forEach(m=>{m.classList.add(o)});else for(let u=0;u<t;u+=1)s.slides[i.realIndex+u]&&s.slides[i.realIndex+u].classList.add(o);const p=i.params.thumbs.autoScrollOffset,b=p&&!s.params.loop;if(i.realIndex!==s.realIndex||b){const u=s.activeIndex;let m,x;if(s.params.loop){const D=s.slides.filter(W=>W.getAttribute("data-swiper-slide-index")===`${i.realIndex}`)[0];m=s.slides.indexOf(D),x=i.activeIndex>i.previousIndex?"next":"prev"}else m=i.realIndex,x=m>i.previousIndex?"next":"prev";b&&(m+=x==="next"?p:-1*p),s.visibleSlidesIndexes&&s.visibleSlidesIndexes.indexOf(m)<0&&(s.params.centeredSlides?m>u?m=m-Math.floor(e/2)+1:m=m+Math.floor(e/2)-1:m>u&&s.params.slidesPerGroup,s.slideTo(m,l?0:void 0))}}f("beforeInit",()=>{const{thumbs:l}=i.params;if(!(!l||!l.swiper))if(typeof l.swiper=="string"||l.swiper instanceof HTMLElement){const s=re(),e=()=>{const o=typeof l.swiper=="string"?s.querySelector(l.swiper):l.swiper;if(o&&o.swiper)l.swiper=o.swiper,v(),g(!0);else if(o){const p=b=>{l.swiper=b.detail[0],o.removeEventListener("init",p),v(),g(!0),l.swiper.update(),i.update()};o.addEventListener("init",p)}return o},t=()=>{if(i.destroyed)return;e()||requestAnimationFrame(t)};requestAnimationFrame(t)}else v(),g(!0)}),f("slideChange update resize observerUpdate",()=>{g()}),f("setTransition",(l,s)=>{const e=i.thumbs.swiper;!e||e.destroyed||e.setTransition(s)}),f("beforeDestroy",()=>{const l=i.thumbs.swiper;!l||l.destroyed||C&&l.destroy()}),Object.assign(i.thumbs,{init:v,update:g})}export{me as T,de as Z};
